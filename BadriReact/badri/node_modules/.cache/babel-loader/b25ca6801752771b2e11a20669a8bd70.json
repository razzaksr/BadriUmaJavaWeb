{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\git\\\\BadriAndUma\\\\BadriReact\\\\badri\\\\src\\\\Pages\\\\AddEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport fireDb from '../firebase';\nimport { toast } from 'react-toastify';\nimport './AddEdit.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  contact: \"\"\n};\n\nconst AddEdit = () => {\n  _s();\n\n  const [state, setState] = useState(initialState);\n  const [data, setData] = useState({});\n  const {\n    name,\n    email,\n    contact\n  } = state;\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    fireDb.child(\"contacts\").on(\"value\", snapshot => {\n      if (snapshot.val() !== null) {\n        setData({ ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  useEffect(() => {\n    if (id) {\n      setState({ ...data[id]\n      });\n    } else {\n      setState({ ...initialState\n      });\n    }\n\n    return () => {\n      setState({ ...initialState\n      });\n    };\n  }, [id, data]);\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!name || !email || !contact) {\n      toast.error(\"Please fill all fields\");\n    } else {\n      if (!id) {\n        fireDb.child(\"contacts\").push(state, err => {\n          if (err) {\n            toast.error(err);\n          } else {\n            toast.success(\"Successfully added\");\n          }\n        });\n        setTimeout(() => navigate(\"/\"), 500);\n      } else {\n        fireDb.child(`contacts/${id}`).set(state, err => {\n          if (err) {\n            toast.error(err);\n          } else {\n            toast.success(\"Successfully updated\");\n          }\n        });\n        setTimeout(() => navigate(\"/\"), 500);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"100px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        margin: \"auto\",\n        padding: \"15px\",\n        maxWidth: \"400px\",\n        alignContent: \"center\"\n      },\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Your Name\",\n        value: name || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Your Email\",\n        value: email || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"contact\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"contact\",\n        name: \"contact\",\n        placeholder: \"Your contact\",\n        value: contact || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: id ? \"Update\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddEdit, \"VauK/PvF8U+6fyr1HWCg59ILVKs=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = AddEdit;\nexport default AddEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","fireDb","toast","initialState","name","email","contact","AddEdit","state","setState","data","setData","navigate","id","child","on","snapshot","val","handleInputChange","e","value","target","handleSubmit","preventDefault","error","push","err","success","setTimeout","set","marginTop","margin","padding","maxWidth","alignContent"],"sources":["C:/Users/ADMIN/git/BadriAndUma/BadriReact/badri/src/Pages/AddEdit.js"],"sourcesContent":["import React,{useState, useEffect} from 'react';\nimport {useNavigate, useParams} from 'react-router-dom';\nimport fireDb from '../firebase';\nimport { toast } from 'react-toastify';\nimport './AddEdit.css';\n\nconst initialState = {\n  name:\"\",\n  email:\"\",\n  contact:\"\"\n}\n\nconst AddEdit = () => {\n  const [state, setState ] = useState(initialState);\n  const [data, setData] = useState({});\n\n  const {name, email, contact} = state;\n\n  const navigate = useNavigate();\n\n  const {id} = useParams();\n\n  useEffect(() => {\n    fireDb.child(\"contacts\").on(\"value\", (snapshot) => {\n      if(snapshot.val() !==  null){\n        setData({...snapshot.val()});\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n\n  useEffect(() => {\n    if(id){\n      setState({...data[id]})\n    }\n    else{\n      setState({...initialState})\n    }\n\n    return () => {\n      setState({...initialState})\n    };\n  }, [id, data]);\n\n  const handleInputChange = (e) => {\n    const {name, value} = e.target;\n    setState({...state, [name]: value})\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if(!name || !email || !contact){\n      toast.error(\"Please fill all fields\")\n    } else{\n      if(!id){\n        fireDb.child(\"contacts\").push(state, (err) => {\n          if(err){\n            toast.error(err)\n          }else {\n            toast.success(\"Successfully added\")\n          }\n        });\n        setTimeout(() => navigate(\"/\"), 500);\n      }\n      else{\n        fireDb.child(`contacts/${id}`).set(state, (err) => {\n          if(err){\n            toast.error(err)\n          }else {\n            toast.success(\"Successfully updated\")\n          }\n        });\n        setTimeout(() => navigate(\"/\"), 500);\n      }\n      }\n  };\n  return (\n    <div style={{ marginTop: \"100px\" }}>\n      <form style={{\n        margin: \"auto\",\n        padding: \"15px\",\n        maxWidth: \"400px\",\n        alignContent: \"center\",\n      }} onSubmit={handleSubmit}>\n        <label htmlFor='name'>Name</label>\n        <input \n        type=\"text\"\n        id='name'\n        name='name'\n        placeholder='Your Name'\n        value={name || \"\"}\n        onChange={handleInputChange}\n        />\n        <label htmlFor='email'>Email</label>\n        <input \n        type=\"email\"\n        id='email'\n        name='email'\n        placeholder='Your Email'\n        value={email || \"\"}\n        onChange={handleInputChange}\n        />\n        <label htmlFor='contact'>Contact</label>\n        <input \n        type=\"number\"\n        id='contact'\n        name='contact'\n        placeholder='Your contact'\n        value={contact || \"\"}\n        onChange={handleInputChange}\n        />\n        <input type=\"submit\" value={id ? \"Update\" : \"Save\"}/>\n      </form>\n    </div>\n  )\n}\n\nexport default AddEdit"],"mappings":"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"},"metadata":{},"sourceType":"module"}